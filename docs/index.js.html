<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Main module of Haxroomie.
 * 
 * Can be obtained with
 * ```js
 * const haxroomie = require('haxroomie');
 * ```
 * 
 * @module haxroomie
 */
const Haxroomie = require('./src/Haxroomie');
const { messageTypes } = require('./src/session')

    
/**
 * Messages are used to emit events through the {@link Session}. To recieve
 * these messages you must subscribe to them using the 
 * {@link Session#subscribe} method. All messages
 * must follow a specific format described here.
 * 
 * The Haxroomie messages are almost similar to
 * [Flux Standard Action](https://github.com/redux-utilities/flux-standard-action). 
 * **The difference is** that each message MUST contain the sender. This 
 * enables better support for private messages.
 * If the message came from Haxroomie, then `sender === session.id`.
 * 
 * Message objects can be sent with {@link Session#send} and 
 * {@link Session#broadcast}.
 * 
 * @typedef {Object} Message
 * @property {string} type - type of message
 * @property {string|number|object} sender - sender of the message
 * @property {object|Error} [payload] - Data of the message. Should be
 *    `instanceof Error` if `error === true`.
 * @property {boolean} [error] - Should be true if 
 *    `(payload instanceof Error) === true`. In other words when the sender
 *    wants to send an error to the receiver.
 */

const haxroomie = {
  Haxroomie,
  createHaxroomie,
  messageTypes
};

/**
 * Asynchronous factory function to create an instance of 
 * [Haxroomie]{@link module:haxroomie~Haxroomie} without
 * the need to call Haxroomie#createBrowser after constructing the object.
 * 
 * @param {object} opt - Options for the Haxroomie constructor.
 * @returns {module:haxroomie~Haxroomie} Ready to use instance of Haxroomie.
 */
async function createHaxroomie(opt) {
  let haxroomie = new Haxroomie(opt);
  await haxroomie.createBrowser();
  return haxroomie;
}

module.exports = haxroomie;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-haxroomie.html">haxroomie</a></li></ul><h3>Classes</h3><ul><li><a href="module-haxroomie.Haxroomie.html">Haxroomie</a></li><li><a href="Session.html">Session</a></li></ul><h3>Namespaces</h3><ul><li><a href="module-haxroomie.messageTypes.html">messageTypes</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Fri Mar 01 2019 09:45:58 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
